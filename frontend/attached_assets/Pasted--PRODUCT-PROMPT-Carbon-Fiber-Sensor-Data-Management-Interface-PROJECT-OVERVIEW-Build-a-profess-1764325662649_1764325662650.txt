# PRODUCT PROMPT: Carbon Fiber Sensor Data Management Interface

## PROJECT OVERVIEW
Build a professional data management web application for carbon fiber composite damage detection research. The system manages sensor data processing, visualization, and organization.

## DESIGN AESTHETIC
- **Style**: Clean, modern, scientific/technical interface
- **Reference**: LangSmith-style navigation and subpage patterns
- **Colors**: 
  - Primary: Deep blue (#1e40af) / Slate (#334155)
  - Secondary: Emerald green (#059669) for success states
  - Background: Clean white (#ffffff) with subtle grays (#f8fafc, #f1f5f9)
  - Accent: Amber (#f59e0b) for warnings/processing states
- **Typography**: 
  - Headers: Inter or SF Pro Display (bold, clean)
  - Body: System fonts (readable, technical)
  - Code/Data: Monospace (JetBrains Mono or SF Mono)

---

## PAGE 1: PROCESSED DATABASE

### Main View - "Database" Page

**Header Section:**
- Page title: "Processed Database" (large, bold)
- Subtitle: "Standardized sensor data chunks ready for training"
- Action button: "+ Add Data" (prominent, top-right)

**Content Grid:**
Display classification labels as cards in a responsive grid (3 columns on desktop, 2 on tablet, 1 on mobile).

**Each Card Shows:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“Š 0.25crushcore                    â”‚
â”‚                                     â”‚
â”‚ 144 chunks                          â”‚
â”‚ Current (pA) â€¢ 10.0s per chunk      â”‚
â”‚                                     â”‚
â”‚ Last updated: Nov 28, 2025          â”‚
â”‚                                     â”‚
â”‚ [View Details â†’]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Card Styling:**
- Border: 1px solid light gray
- Hover: Subtle shadow + scale(1.02)
- Cursor: pointer on entire card
- Icon: Small chart/database icon top-left

---

### Modal: Add Data Dialog

**Triggered by:** "+ Add Data" button

**Modal Structure:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Import & Process Sensor Data          [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  Select Folder                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ðŸ“ Choose folder from computer... â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  Classification Label *                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  e.g., "0.25crushcore", "normal"   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                            â”‚
â”‚  âš™ï¸ Advanced Settings (collapsible)       â”‚
â”‚  â””â”€ Time interval: 0.1s                   â”‚
â”‚  â””â”€ Chunk duration: 8.0s                  â”‚
â”‚  â””â”€ Padding: 1.0s                         â”‚
â”‚                                            â”‚
â”‚            [Cancel]  [Process Data]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interactions:**
- Folder selection: Native file picker (directory selection)
- Label input: Required field, alphanumeric validation
- Advanced settings: Collapsed by default
- Process Data button: Disabled until folder + label provided
- Shows loading spinner after clicking Process

---

### Subpage: Label Detail View

**Triggered by:** Clicking any classification card

**Layout: Two-Column**

**Left Sidebar (30% width):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0.25crushcore           â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                          â”‚
â”‚ ðŸ“„ CSV Files (144)       â”‚
â”‚                          â”‚
â”‚ â”œâ”€ 0.25crushcore_0001   â”‚
â”‚ â”œâ”€ 0.25crushcore_0002   â”‚
â”‚ â”œâ”€ 0.25crushcore_0003   â”‚
â”‚ â”œâ”€ ...                   â”‚
â”‚ â””â”€ 0.25crushcore_0144   â”‚
â”‚                          â”‚
â”‚ [â†“ Download All]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Right Content Area (70% width):**

**Top Section: Metadata Card**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â„¹ï¸ Dataset Information                â”‚
â”‚                                        â”‚
â”‚ â€¢ Classification: 0.25crushcore        â”‚
â”‚ â€¢ Data Type: Current (pA)              â”‚
â”‚ â€¢ Total Chunks: 144                    â”‚
â”‚ â€¢ Samples per Chunk: 101               â”‚
â”‚ â€¢ Duration: 10.0s (8.0s + 2x1.0s pad) â”‚
â”‚ â€¢ Time Interval: 0.1s                  â”‚
â”‚ â€¢ Generated: Nov 28, 2025 03:58 AM    â”‚
â”‚                                        â”‚
â”‚ Statistics:                            â”‚
â”‚ â€¢ Value Range: [-38.5, 33.5] pA       â”‚
â”‚ â€¢ Mean: -0.77 pA                       â”‚
â”‚ â€¢ Std Dev: 19.84 pA                    â”‚
â”‚ â€¢ Original Rate: 8.44 Hz               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Bottom Section: Graph Area**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“ˆ Time-Series Visualization          â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                        â”‚
â”‚ [Select file to visualize]            â”‚
â”‚                                        â”‚
â”‚ (Empty state when no file selected)   â”‚
â”‚                                        â”‚
â”‚ OR                                     â”‚
â”‚                                        â”‚
â”‚ [Interactive line chart]               â”‚
â”‚ - X-axis: Time (s), 0-10              â”‚
â”‚ - Y-axis: Current (pA), auto-scale    â”‚
â”‚ - Highlight active region (1-9s)      â”‚
â”‚ - Gray padding regions (0-1s, 9-10s)  â”‚
â”‚ - Tooltip on hover showing values     â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interactions:**
- Clicking a CSV file in left sidebar:
  1. Fetches the file data from backend
  2. Parses CSV (label, time, values)
  3. Renders line chart
  4. Highlights selected file in sidebar
- Download All button: Downloads zip of all CSVs

---

## PAGE 2: RAW DATABASE

### Main View - "Raw Files" Page

**Header Section:**
- Page title: "Raw Database" (large, bold)
- Subtitle: "Original imported sensor files (backup/reference)"

**Content: List View**

Display raw import folders as expandable rows:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“ split_data_0.25_crush               [Expand â–¼]     â”‚
â”‚    48 files â€¢ 0.31 MB â€¢ Nov 28, 2025                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ðŸ“ split_data_0.75_crushcore           [Expand â–¼]     â”‚
â”‚    62 files â€¢ 0.45 MB â€¢ Nov 28, 2025                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Expanded Row View

**Triggered by:** Clicking a folder row

**Layout: Nested content slides open**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“ split_data_0.25_crush               [Collapse â–²]   â”‚
â”‚    48 files â€¢ 0.31 MB â€¢ Nov 28, 2025                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Files (48)          â”‚ Metadata                 â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ cycle_001.csv       â”‚ Import Folder:           â”‚  â”‚
â”‚  â”‚ cycle_002.csv       â”‚ split_data_0.25_crush    â”‚  â”‚
â”‚  â”‚ cycle_003.csv       â”‚                          â”‚  â”‚
â”‚  â”‚ ...                 â”‚ Imported At:             â”‚  â”‚
â”‚  â”‚ cycle_048.csv       â”‚ Nov 28, 2025 03:58 AM    â”‚  â”‚
â”‚  â”‚                     â”‚                          â”‚  â”‚
â”‚  â”‚ [â†“ Download Folder] â”‚ Total Files: 48          â”‚  â”‚
â”‚  â”‚                     â”‚ Total Size: 0.31 MB      â”‚  â”‚
â”‚  â”‚                     â”‚ Average Size: 6.8 KB     â”‚  â”‚
â”‚  â”‚                     â”‚ Largest: 7.2 KB          â”‚  â”‚
â”‚  â”‚                     â”‚ Smallest: 4.8 KB         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interactions:**
- Click folder row to expand/collapse
- File list scrollable if many files
- Download Folder button: Downloads zip of raw files

---

## NAVIGATION

**Top Navigation Bar:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ”¬ Damage Detection Lab              [Database] [Raw] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Left: App title with icon
- Right: Tab navigation between Database and Raw pages
- Active tab highlighted with underline
- Responsive: Collapses to hamburger menu on mobile

---

## TECHNICAL REQUIREMENTS

### Components Needed:
1. **Database Page:**
   - ClassificationCard component
   - AddDataModal component
   - LabelDetailView component
   - FileList component
   - MetadataCard component
   - LineChart component (use Chart.js or Recharts)

2. **Raw Database Page:**
   - FolderRow component (expandable)
   - FileList component (reusable)
   - MetadataPanel component

### State Management:
- List of classification labels
- Selected label for detail view
- Selected CSV file for visualization
- Raw folder expansion states
- Loading states for data fetching

### API Integration:
- GET /api/labels (fetch all processed labels)
- GET /api/labels/{label}/metadata
- GET /api/labels/{label}/files
- GET /api/labels/{label}/files/{filename}
- POST /api/ingest (trigger data processing)
- GET /api/raw-database (fetch raw folders)
- GET /api/raw-database/{folder}/metadata

### Chart Specifications:
- Library: Recharts (React) or Chart.js
- Type: Line chart
- Responsive: Yes
- Features:
  - Zoom/pan optional
  - Tooltip showing exact values
  - Legend showing measurement type
  - Grid lines
  - Shaded regions for padding (0-1s, 9-10s)

---

## USER FLOWS

**Flow 1: Import New Data**
1. User clicks "+ Add Data"
2. Modal opens
3. User selects folder from computer
4. User types classification label
5. User clicks "Process Data"
6. Backend processes (show loading spinner)
7. Modal closes, new card appears in grid
8. Success notification shown

**Flow 2: Visualize Chunk**
1. User clicks classification card
2. Subpage opens with file list + metadata
3. User clicks a CSV file in list
4. Chart renders with time-series data
5. User can hover for exact values
6. User can select different files to compare

**Flow 3: Browse Raw Files**
1. User navigates to "Raw" tab
2. Sees list of import folders
3. User clicks a folder
4. Row expands showing files + metadata
5. User can download folder as zip

---

## RESPONSIVE DESIGN

**Desktop (>1024px):**
- 3-column grid for cards
- Two-column detail view (30/70 split)
- Full navigation bar

**Tablet (768px - 1024px):**
- 2-column grid for cards
- Two-column detail view (40/60 split)
- Full navigation bar

**Mobile (<768px):**
- 1-column grid for cards
- Single-column detail view (files collapse)
- Hamburger menu navigation
- Graphs scrollable/zoomable

---

## ADDITIONAL FEATURES (Nice-to-Have)

- Search/filter classification labels
- Sort files by name/date
- Bulk download selected files
- Delete processed data (with confirmation)
- Real-time progress bar during processing
- Dark mode toggle
- Export metadata as JSON

---

## ACCESSIBILITY

- Semantic HTML (proper headers, nav, main)
- ARIA labels on interactive elements
- Keyboard navigation support
- Focus indicators
- Alt text for icons
- Color contrast ratio >4.5:1

---

## TECHNICAL STACK RECOMMENDATION

**Frontend:**
- React 18+ with Vite
- Tailwind CSS for styling
- Recharts for data visualization
- React Router for navigation
- Axios for API calls
- React Query for data fetching (optional)

**File Upload:**
- Use `<input type="file" webkitdirectory multiple>` for folder selection
- FormData for upload to backend

---

END OF PROMPT